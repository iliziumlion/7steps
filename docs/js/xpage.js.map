{"version":3,"sources":["webpack:///./src/ts/xpage/mobileMenu.ts","webpack:///./src/ts/xpage/ready.ts","webpack:///./src/ts/xpage/core.ts","webpack:///./src/ts/xpage/Element.ts","webpack:///./src/ts/xpage/EventListener.ts"],"names":["MobileMenu","settings","this","_state","_error","menuActiveClass","bodyActiveClass","body","core_1","default","getElement","ignoreWarnings","_settings","console","log","burger","menu","bindEvents","Object","defineProperty","prototype","text","error","newState","_menu","el","HTMLElement","_burger","openMenu","window","matchMedia","media","matches","fixBody","style","top","pageYOffset","position","classList","add","state","closeMenu","Math","abs","parseInt","remove","scrollTo","toggleMenu","_this","document","addEventListener","event","target","Element_1","is","has","EventListener_1","exports","callback","e","Error","App","getElements","selector","elements","querySelectorAll","length","querySelector","elementsGetter","transformNodeListToArray","list","Array","slice","call","wrap","wrapper","localWrapper","createElement","each","i","innerHTML","outerHTML","parentNode","replaceChild","_i","elements_1","Element","_length","els","NodeList","_els","addElement","element","concat","searchElements","isFinded","_a","_b","searchElements_1","contains","addClass","className","removeClass","toggleClass","hasClass","targetClass","find","searchingElements","findedElements","el_1","push","closest","innerText","textArray_1","get","index","getHTMLElement","height","isNaN","getComputedStyle","map","attr","attrName","value","setAttribute","getAttribute","prev","previousElementSibling","replace","EventListener","_super","__extends","options","trigger","evt","createEvent","initEvent","dispatchEvent"],"mappings":"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","file":"js/xpage.js","sourcesContent":["import App from \"./core\"\r\nimport Element from \"./Element\"\r\nimport EventListener from \"./EventListener\"\r\n\r\ninterface mobileMenuSettings {\r\n\tburger: string,\r\n\tmenu: string,\r\n\tmenuActiveClass: string,\r\n\tbodyActiveClass: string,\r\n\tignoreWarnings: boolean,\r\n\tfixBody: boolean,\r\n\tmedia?: string,\r\n}\r\n\r\nexport default class MobileMenu{\r\n\tprivate _settings: mobileMenuSettings\r\n\tprivate _burger: HTMLElement\r\n\tprivate _menu: HTMLElement\r\n\tprivate _state: boolean = false\r\n\tprivate _error: boolean = false\r\n\tprivate menuActiveClass: string = \"js__opened\"\r\n\tprivate bodyActiveClass: string = \"js__menu-opened\"\r\n\tprivate body: HTMLElement = App.getElement(\"body\")\r\n\tprivate ignoreWarnings: boolean = false\r\n\r\n\tset error(text: string){\r\n\t\tthis._error = true\r\n\r\n\t\tconsole.error(`${text}. Меню не работает`)\r\n\t}\r\n\r\n\tset state(newState: boolean){\r\n\t\tthis._state = newState\r\n\t}\r\n\r\n\r\n\tset menu (el: HTMLElement){\r\n\t\tif (!(el instanceof HTMLElement) && !this.ignoreWarnings)\r\n\t\t\tthis.error = \"Меню не найдено\"\r\n\t\telse\r\n\t\t\tthis._menu = el\r\n\t}\r\n\r\n\tset burger(el: HTMLElement){\r\n\t\tif (!(el instanceof HTMLElement) && !this.ignoreWarnings)\r\n\t\t\tthis.error = \"Бургер не найден\"\r\n\t\telse\r\n\t\t\tthis._burger = el\r\n\t}\r\n\r\n\tget burger(){\r\n\t\treturn this._burger\r\n\t}\r\n\r\n\tget menu(){\r\n\t\treturn this._menu\r\n\t}\r\n\r\n\tget settings(){\r\n\t\treturn this._settings\r\n\t}\r\n\r\n\tget state(){\r\n\t\treturn this._state\r\n\t}\r\n\r\n\tconstructor(settings: mobileMenuSettings){\r\n\t\tthis._settings = settings\r\n\t\tthis.ignoreWarnings = settings.ignoreWarnings\r\n\t\tconsole.log(\"this.ignoreWarnings\", this.ignoreWarnings);\r\n\r\n\r\n\t\tthis.burger = App.getElement(settings.burger)\r\n\r\n\t\tthis.menuActiveClass = settings.menuActiveClass\r\n\t\tthis.bodyActiveClass = settings.bodyActiveClass\r\n\r\n\t\tthis.menu = App.getElement(settings.menu)\r\n\r\n\t\tthis.bindEvents()\r\n\t}\r\n\r\n\tpublic openMenu(): MobileMenu{\r\n\t\tif (!window.matchMedia(this.settings.media).matches)\r\n\t\t\treturn\r\n\r\n\t\tif (this.settings.fixBody){\r\n\t\t\tthis.body.style.top = -window.pageYOffset + \"px\";\r\n\t\t\tthis.body.style.position = \"fixed\";\r\n\t\t}\r\n\r\n\t\tthis.burger.classList.add(\"js__active\")\r\n\t\tthis.menu.classList.add(this.menuActiveClass)\r\n\t\tthis.body.classList.add(this.bodyActiveClass)\r\n\r\n\t\tthis.state = true\r\n\r\n\t\treturn this\r\n\t}\r\n\r\n\tpublic closeMenu(): MobileMenu{\r\n\t\tif (!window.matchMedia(this.settings.media).matches || !this.state)\r\n\t\t\treturn\r\n\r\n\t\tlet top: number = 0;\r\n\r\n\t\tif (this.settings.fixBody){\r\n\t\t\ttop = Math.abs(parseInt(this.body.style.top))\r\n\r\n\t\t\tthis.body.style.top = \"\"\r\n\t\t\tthis.body.style.position = \"\"\r\n\t\t}\r\n\r\n\t\tthis.burger.classList.remove(\"js__active\")\r\n\t\tthis.menu.classList.remove(this.menuActiveClass)\r\n\t\tthis.body.classList.remove(this.bodyActiveClass)\r\n\r\n\t\tif (this.settings.fixBody)\r\n\t\t\twindow.scrollTo(0, top)\r\n\r\n\t\tthis.state = false\r\n\r\n\t\treturn this\r\n\t}\r\n\r\n\tpublic toggleMenu(): MobileMenu{\r\n\t\tif (!window.matchMedia(this.settings.media).matches)\r\n\t\t\treturn\r\n\r\n\t\tif (this.state)\r\n\t\t\tthis.closeMenu()\r\n\t\telse\r\n\t\t\tthis.openMenu()\r\n\r\n\t\treturn this\r\n\t}\r\n\r\n\tprivate bindEvents(){\r\n\t\tdocument.addEventListener(\"click\", (event: any) => {\r\n\t\t\tconst target: Element = new Element(event.target);\r\n\t\t\t\r\n\t\t\tif(!target.is(this.burger)\r\n\t\t\t\t&& !new Element(this.burger).has(target)\r\n\t\t\t\t&& !target.is(this.menu)\r\n\t\t\t\t&& !new Element(this.menu).has(target))\r\n\t\t\t\tthis.closeMenu()\r\n\t\t})\r\n\r\n\t\tnew EventListener(this.burger).add(\"click\", (el: HTMLElement) => {\r\n\t\t\tthis.toggleMenu()\r\n\t\t})\r\n\t}\r\n}","/** \r\n * DOMContentLoaded \r\n * @param callback : Function\r\n*/\r\nconst domReady = (callback: any): void => {\r\n\ttry{\r\n\t\tdocument.addEventListener(\"DOMContentLoaded\", callback)\r\n\t}catch(e){\r\n\t\tthrow Error(e)\r\n\t}\r\n}\r\n\r\nexport default domReady","export default class App {\r\n\tpublic static getElements(selector: string): NodeList{\r\n\t\tconst elements: any = document.querySelectorAll(selector);\r\n\r\n\t\treturn elements.length ? elements : []\r\n\t\t// return this.elementsGetter(sele ctor)\r\n\t}\r\n\r\n\t/**\r\n\t* Метод получения одного объекта по селектору\r\n\t* @param selector: string\r\n\t* @return HTMLElement\r\n\t*/\r\n\tpublic static getElement(selector: string): HTMLElement{\r\n\t\tconst element: any = document.querySelector(selector);\r\n\r\n\t\treturn element\r\n\t}\r\n\r\n\tpublic static elementsGetter(selector: string): HTMLElement[]{\r\n\t\treturn App.transformNodeListToArray(document.querySelectorAll(selector))\r\n\t}\r\n\r\n\tpublic static transformNodeListToArray(list: NodeList): HTMLElement[]{\r\n\t\ttry{\r\n\t\t\treturn Array.prototype.slice.call(list)\r\n\t\t}catch(e){\r\n\t\t\tthrow Error(e)\r\n\t\t\treturn []\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static wrap(selector: any, wrapper: HTMLElement): void\r\n\tpublic static wrap(selector: any, wrapper: string): void\r\n\tpublic static wrap(selector: any, wrapper: any): void{\r\n\t\tlet localWrapper: HTMLElement;\r\n\r\n\t\tif (typeof wrapper == \"string\")\r\n\t\t\tlocalWrapper = document.createElement(wrapper)\r\n\t\telse if (wrapper instanceof HTMLElement)\r\n\t\t\tlocalWrapper = wrapper\r\n\r\n\t\t// console.log(selector, [localWrapper])\r\n\r\n\t\tApp.each(selector, function(el: HTMLElement, i:number){\r\n\t\t\tlocalWrapper.innerHTML = el.outerHTML\r\n\r\n\t\t\tel.parentNode.replaceChild(localWrapper, el)\r\n\t\t})\r\n\t}\r\n\r\n\tpublic static each(elements: string, callback: any): void\r\n\tpublic static each(elements: HTMLElement[], callback: any): void\r\n\tpublic static each(elements: NodeList, callback: any): void\r\n\tpublic static each(elements: any, callback: any): void{\r\n\r\n\t\tif (!callback){\r\n\t\t\tconsole.error(\"Callback does not exists in yours 'each'\")\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (typeof elements == \"string\")\r\n\t\t\telements = App.transformNodeListToArray(App.getElements(elements))\r\n\r\n\t\tlet i = 0;\r\n\r\n\t\tfor (let el of elements){\r\n\t\t\tcallback(el, i)\r\n\t\t\ti++\r\n\t\t}\r\n\t}\r\n}","import App from \"./core\"\r\n\r\nexport default class Element {\r\n\t// private _selector: string\r\n\tprotected _els: HTMLElement[]\r\n\tpublic _length: number = 0\r\n\r\n\tset els(elements: HTMLElement[]){\r\n\t\tthis._els = elements\r\n\r\n\t\tthis._length = elements.length || 0\r\n\t}\r\n\r\n\tget els(){\r\n\t\treturn this._els\r\n\t}\r\n\r\n\tget length(){\r\n\t\treturn this._length\r\n\t}\r\n\r\n\t/**\r\n\t* Создание коллекции элементов\r\n\t* @param selector: HTMLElement[] || NodeList || HTMLElement || Element || string\r\n\t* @return Element\r\n\t*/  \r\n\tconstructor (selector?: EventTarget)\r\n\tconstructor (selector?: HTMLElement[])\r\n\tconstructor (selector?: NodeList)\r\n\tconstructor (selector?: Element)\r\n\tconstructor (selector?: string)\r\n\tconstructor (selector?: HTMLElement)\r\n\tconstructor (selector?: any){\r\n\r\n\t\tif (!selector)\r\n\t\t\tthis.els = []\r\n\t\telse if (typeof selector == \"string\")\r\n\t\t\tthis.els = App.elementsGetter(selector)\r\n\t\telse if (selector instanceof HTMLElement)\r\n\t\t\tthis.els = [selector]\r\n\t\telse if (selector instanceof NodeList)\r\n\t\t\tthis.els = App.transformNodeListToArray(selector)\r\n\t\telse if (selector instanceof Array && (selector[0] instanceof HTMLElement || !selector.length))\r\n\t\t\tthis.els = selector\r\n\t\telse if (selector instanceof Element)\r\n\t\t\tthis.els = selector.els\r\n\t\telse\r\n\t\t\tthrow Error(`Invalid selector: ${selector}`)\r\n\t}\r\n\r\n\t/**\r\n\t * Метод добавление HTMLElemnt в экземпляр\r\n\t * класса Element\r\n\t * @param element: HTMLElement || NodeList || string || Element\r\n\t * @return Element\r\n\t */\r\n\tpublic addElement(element: Element): Element\r\n\tpublic addElement(element: NodeList): Element\r\n\tpublic addElement(element: string): Element\r\n\tpublic addElement(element: HTMLElement): Element\r\n\tpublic addElement(element: HTMLElement[]): Element\r\n\tpublic addElement(element: any): Element{\r\n\r\n\t\tif (typeof element == \"string\")\r\n\t\t\tthis.els = this.els.concat(App.elementsGetter(element))\r\n\t\telse if (element instanceof Element)\r\n\t\t\tthis.els = this.els.concat(element.els)\r\n\t\telse if (element instanceof HTMLElement)\r\n\t\t\tthis.els = this.els.concat(element)\r\n\t\telse if (element instanceof NodeList)\r\n\t\t\tthis.els = this.els.concat(App.transformNodeListToArray(element))\r\n\t\telse if (element instanceof Array && (element[0] instanceof HTMLElement || !element.length))\r\n\t\t\tthis.els = this.els.concat(element)\r\n\t\telse\r\n\t\t\tthrow Error(`Invalid selector: ${element}`)\r\n\t\treturn this\r\n\t}\r\n\r\n\r\n\t/** \r\n\t* Метод сравнения элементов\r\n\t* @param selector: HTMLElement || string\r\n\t* @return boolean\r\n\t*/\r\n\tpublic is(selector: HTMLElement): boolean\r\n\tpublic is(selector: string): boolean\r\n\tpublic is(selector: any): boolean{\r\n\t\tlet element: HTMLElement[];\r\n\r\n\t\tif (typeof selector == \"string\")\r\n\t\t\telement = App.elementsGetter(selector)\r\n\t\telse if (selector instanceof HTMLElement)\r\n\t\t\telement = [selector]\r\n\r\n\t\treturn this.els[0] == element[0]\r\n\t}\r\n\r\n\t/** Метод проверки содержания текущими элементами передаваемых\r\n\t* @param selector: Element || HTMLElement || HTMLElement[] || NodeList || string\r\n\t* @return boolean\r\n\t*/\r\n\tpublic has(selector: Element): boolean\r\n\tpublic has(selector: HTMLElement): boolean\r\n\tpublic has(selector: HTMLElement[]): boolean\r\n\tpublic has(selector: NodeList): boolean\r\n\tpublic has(selector: string): boolean\r\n\tpublic has(selector: any): boolean{\r\n\t\tlet searchElements: HTMLElement[];\r\n\r\n\t\tif (typeof selector == \"string\")\r\n\t\t\tsearchElements = App.elementsGetter(selector)\r\n\t\telse if (selector instanceof HTMLElement)\r\n\t\t\tsearchElements = [selector]\r\n\t\telse if (selector instanceof Element)\r\n\t\t\tsearchElements = selector._els\r\n\t\telse if (selector instanceof NodeList)\r\n\t\t\tsearchElements = App.transformNodeListToArray(selector)\r\n\t\telse if (selector instanceof Array && (selector[0] instanceof HTMLElement || !selector.length))\r\n\t\t\tsearchElements = selector\r\n\t\telse\r\n\t\t\tthrow Error(`Invalid selector: ${selector}`)\r\n\r\n\t\tlet isFinded: boolean = false;\r\n\r\n\t\tfor (let el of this.els){\r\n\r\n\t\t\tfor (let target of searchElements)\r\n\t\t\t\tif (el.contains(target)){\r\n\t\t\t\t\tisFinded = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\r\n\t\t\tif (isFinded)\r\n\t\t\t\treturn true\r\n\t\t}\r\n\r\n\t\treturn false\r\n\t}\r\n\r\n\t/**\r\n\t* Назначить класс всем текущим элементам\r\n\t* @param className: string\r\n\t* @return Element\r\n\t*/\r\n\tpublic addClass(className: string): Element{\r\n\t\tApp.each(this.els, (el: HTMLElement) => {\r\n\t\t\tel.classList.add(className)\r\n\t\t})\r\n\t\treturn this\r\n\t}\r\n\r\n\t/**\r\n\t* Удалить класс у всех текущих элементов\r\n\t* @param className: string\r\n\t* @return Element\r\n\t*/\r\n\tpublic removeClass(className: string): Element{\r\n\t\tApp.each(this.els, (el: HTMLElement) => {\r\n\t\t\tel.classList.remove(className)\r\n\t\t})\r\n\t\treturn this\r\n\t}\r\n\r\n\t/**\r\n\t* Переключения класса у всех текущих элементов\r\n\t* @param className: string\r\n\t* @return Element\r\n\t*/\r\n\tpublic toggleClass(className: string, callback: Function = () => {}): Element{\r\n\t\tApp.each(this.els, (el: HTMLElement) => {\r\n\t\t\tif (el.classList.contains(className)){\r\n\t\t\t\tel.classList.remove(className)\r\n\r\n\t\t\t\tcallback(false)\r\n\t\t\t}else{\r\n\t\t\t\tel.classList.add(className)\r\n\t\t\t\tcallback(true)\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn this\r\n\t}\r\n\r\n\tpublic hasClass(targetClass: string): boolean{\r\n\t\tfor (const el of this.els)\r\n\t\t\tif (el.classList.contains(targetClass))\r\n\t\t\t\treturn true\r\n\r\n\t\treturn false\r\n\t}\r\n\r\n\t/** Метод поиска потомков элемента по селектору \r\n\t* @param selector: string - селектор искомого\r\n\t* @return Element\r\n\t* */\r\n\tpublic find(selector: string): Element{\r\n\t\tlet searchingElements = new Array();\r\n\r\n\t\tApp.each(this.els, (el: HTMLElement) => {\r\n\t\t\tconst findedElements: NodeList = el.querySelectorAll(selector);\r\n\r\n\t\t\tif (!findedElements.length)\r\n\t\t\t\treturn\r\n\r\n\t\t\tfor (const el of App.transformNodeListToArray(findedElements))\r\n\t\t\t\tsearchingElements.push(el)\r\n\r\n\t\t\t// searchingElements.concat(App.transformNodeListToArray(findedElements))\r\n\r\n\t\t\t// console.log(searchingElements instanceof Array, App.transformNodeListToArray(findedElements) instanceof Array)\r\n\t\t})\r\n\r\n\t\treturn new Element(searchingElements)\r\n\t}\r\n\r\n\t/** Метод поиска родителей по селектору \r\n\t* @param selector: string\r\n\t* @return Element \r\n\t*/\r\n\tpublic closest(selector: string): Element{\r\n\t\tconst searchingElements = new Element();\r\n\r\n\t\tApp.each(this.els, (el: HTMLElement) => {\r\n\t\t\tconst findedElements: any = el.closest(selector);\r\n\r\n\t\t\tif (!findedElements)\r\n\t\t\t\treturn\r\n\r\n\t\t\tsearchingElements.addElement(findedElements);\r\n\t\t})\r\n\r\n\t\treturn searchingElements\r\n\t}\r\n\r\n\t/** Метод для изменения и получения innerText\r\n\t* @param text?: string\r\n\t* @return ELement || string[] || string */\r\n\tpublic text(text?: string): Element\r\n\tpublic text(text?: string): string[]\r\n\tpublic text(text?: string): string\r\n\tpublic text(text?: string): any{\r\n\t\tif (text){\r\n\t\t\tApp.each(this.els, (el: HTMLElement) => {\r\n\t\t\t\tel.innerText = text\r\n\t\t\t})\r\n\t\t\treturn this\r\n\t\t}else if (this.length > 1){\r\n\t\t\tlet textArray: string[] = [];\r\n\r\n\t\t\tApp.each(this.els, (el: HTMLElement) => {\r\n\t\t\t\ttextArray.push(el.innerText)\r\n\t\t\t})\r\n\t\t\treturn textArray\r\n\t\t}else\r\n\t\t\treturn this.els[0].innerText\r\n\t}\r\n\r\n\t/** Метод для получения конкретного элемента по индексу \r\n\t* @param index: number\r\n\t* @return Element*/\r\n\tpublic get(index: number): Element{\r\n\t\tif (this.els[index])\r\n\t\t\treturn new Element(this.els[index])\r\n\t\telse\r\n\t\t\treturn new Element()\r\n\t}\r\n\r\n\t/** Функция, возвращающая HTMLElement по индексу в коллеции элементов \r\n\t* @param index: nuber\r\n\t* @return HTMLElement \r\n\t*/\r\n\tpublic getHTMLElement(index: number): HTMLElement{\r\n\t\treturn this.els[index]\r\n\t}\r\n\r\n\t/** Метод получениея или установки высоты элементов\r\n\t* @param height || empty \r\n\t* @return height: number || Element */\r\n\tpublic height(height?: number): Element\r\n\tpublic height(height?: string): Element\r\n\tpublic height(height?: any): any{\r\n\t\tif (!height)\r\n\t\t\treturn parseInt(getComputedStyle(this.els[0]).height)\r\n\r\n\t\tApp.each(this.els, (el: HTMLElement) => {\r\n\t\t\tif (isNaN(height))\r\n\t\t\t\tel.style.height = height\r\n\t\t\telse\r\n\t\t\t\tel.style.height = height + \"px\"\r\n\t\t})\r\n\r\n\t\treturn this\r\n\t}\r\n\r\n\t/** Map\r\n\t* @param callback: Function\r\n\t* @return any[] */\r\n\tpublic map(callback: any): any[]{\r\n\t\treturn this.els.map(callback)\r\n\t}\r\n\r\n\t/** Метод для изменения или получение атрибута\r\n\t* @param attrName: string - имя атрибута\r\n\t* @param value:string - Новое значение атрибута\r\n\t* @return Element || string */\r\n\tpublic attr(attrName: string, value?: string): string\r\n\tpublic attr(attrName: string, value?: string): Element\r\n\tpublic attr(attrName: string, value?: string): any{\r\n\t\tif (value){\r\n\t\t\tApp.each(this.els, (el: HTMLElement) => {\r\n\t\t\t\tel.setAttribute(attrName, value)\r\n\t\t\t})\r\n\t\t\treturn this\r\n\t\t}\r\n\r\n\t\treturn this.els[0].getAttribute(attrName)\r\n\t}\r\n\r\n\r\n\t/** Метод в разработке */\r\n\tpublic prev(selector?: string): Element{\r\n\t\tconst searchingElements = new Element();\r\n\r\n\t\tApp.each(this.els, (el: HTMLElement) => {\r\n\t\t\tconst findedElements: any = el.previousElementSibling;\r\n\r\n\t\t\tif (!findedElements)\r\n\t\t\t\treturn\r\n\r\n\t\t\tif (selector){\r\n\t\t\t\tif (findedElements.classList.contains(selector.replace(\".\", \"\")))\r\n\t\t\t\t\tsearchingElements.addElement(findedElements)\r\n\t\t\t}else\r\n\t\t\t\tsearchingElements.addElement(findedElements)\r\n\t\t})\r\n\r\n\t\treturn searchingElements\r\n\t}\r\n}","import App from \"./core\"\r\nimport Element from \"./Element\"\r\n\r\ninterface EventOtions{\r\n\tcapture?: boolean,\r\n\tonce?: boolean,\r\n\tpassive?: boolean\r\n}\r\n\r\nexport default class EventListener extends Element{\r\n\r\n\t/** \r\n\t* Метод для подписки на событие\r\n\t* @param event: string - название js события\r\n\t* @param callback: function\r\n\t* @param options: object\r\n\t* @retrun EventListener\r\n\t*/\r\n\tpublic add(event: string, callback: any, options?: EventOtions): EventListener{\r\n\r\n\t\tApp.each(this.els, function(el:HTMLElement, i: number){\r\n\t\t\tel.addEventListener(event, function(event){\r\n\t\t\t\tcallback(this, event, i)\r\n\t\t\t}, options)\r\n\t\t})\r\n\r\n\t\treturn this\r\n\t}\r\n\r\n\t/** \r\n\t* Метод для вызова события\r\n\t* @param event: string - название js события\r\n\t* @retrun EventListener\r\n\t*/\r\n\tpublic trigger(event: string): EventListener{\r\n\t\tApp.each(this.els, function(el: HTMLElement){\r\n\t\t\tlet evt: Event = document.createEvent(\"HTMLEvents\");\r\n\r\n\t\t\tevt.initEvent(event, false, true)\r\n\t\t\tel.dispatchEvent(evt)\r\n\t\t})\r\n\r\n\t\treturn this\r\n\t}\r\n}"],"sourceRoot":""}